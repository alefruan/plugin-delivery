(()=>{var e={733:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});class n{constructor(){this.init()}init(){if("complete"===document.readyState)if(this.supportNotification()){if(!this.hasNotificationPermission())return this.setDisabledMessage(),void this.requestPermission();this.setEnabledMessage(),window.addEventListener("mydNotificationEnabled",(()=>{this.setEnabledMessage()}))}else this.setUnsuportedMessage();else window.addEventListener("load",this.init.bind(this))}supportNotification(){return"Notification"in window}hasNotificationPermission(){return"granted"===Notification.permission}requestPermission(){"granted"!==Notification.permission&&Notification.requestPermission().then((e=>{"granted"===e&&window.dispatchEvent(new Event("mydNotificationEnabled"))}))}setUnsuportedMessage(){const e=document.getElementById("myd-orders-panel-notification-status-label");e&&(e.innerText=e.dataset.unsuportedMessage)}setDisabledMessage(){const e=document.getElementById("myd-orders-panel-notification-status-label");e&&(e.innerText=e.dataset.disabledMessage)}setEnabledMessage(){const e=document.getElementById("myd-orders-panel-notification-status-label");e&&(e.innerText=e.dataset.enabledMessage)}sendNotification(e={}){0===Object.values(e).length&&(e={title:"New Order!",body:"Hey, you got a new order. Check now!"}),new Notification(e.title,{icon:"https://myddelivery.com/wp-content/plugins/myd-delivery-pro/assets/img/fdm-icon.png",body:e.body})}}},337:()=>{var e=(e,t,o)=>new Promise(((n,i)=>{var r=e=>{try{d(o.next(e))}catch(e){i(e)}},s=e=>{try{d(o.throw(e))}catch(e){i(e)}},d=e=>e.done?n(e.value):Promise.resolve(e.value).then(r,s);d((o=o.apply(e,t)).next())}));window.addEventListener("load",(()=>{setInterval((()=>{!function(t){e(this,null,(function*(){let o=document.querySelector(".fdm-orders-items");o=null!==o?o.id:0;try{const n=yield fetch(t+"?oid="+o);n.ok?"atualizado"!==(yield n.json()).status&&function(){e(this,null,(function*(){const e=yield fetch(order_ajax_object.ajax_url,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"},body:"action=update_orders&nonce="+order_ajax_object.nonce}),t=yield e.json(),o=document.querySelectorAll(".fdm-orders-items, .fdm-orders-full-items"),n=document.querySelectorAll(".fdm-btn-order-action"),i=document.querySelectorAll(".order-print");if(o.forEach((e=>e.remove())),n.forEach((e=>e.setAttribute("data-manage-order-id",""))),i.forEach((e=>e.remove())),window.MydNotification.supportNotification()&&window.MydNotification.hasNotificationPermission()){const e=document.getElementById("myd-orders-panel-notification-status-label"),t={};e&&(t.title=e.dataset.notificationTitle||"",t.body=e.dataset.notificationBody||""),window.MydNotification.sendNotification(t);const o=new Audio("/wp-content/plugins/myd-delivery-pro/assets/songs/trim.mp3");o.addEventListener("canplaythrough",(e=>{o.play()}))}document.querySelector(".fdm-orders-loop").insertAdjacentHTML("afterbegin",t.loop),document.querySelector(".fdm-orders-full").insertAdjacentHTML("afterbegin",t.full),document.querySelector("#hide-prints").insertAdjacentHTML("afterbegin",t.print),window.screen.width<=980&&(document.querySelectorAll(".fdm-orders-full-details").display="none")}))}():console.log("GET API error")}catch(e){console.log(e.message)}}))}(order_ajax_object.domain+"/wp-json/my-delivery/v1/orders")}),1e4)}))},801:(e,t,o)=>{"use strict";var n=o(733);window.addEventListener("load",(()=>{window.MydNotification=new n.A;const e=document.querySelector(".fdm-input-filter");if(!e)return;e.addEventListener("keyup",(()=>{const t=document.querySelectorAll(".fdm-orders-items");if(!t)return;const o=e.value.toLowerCase();t.forEach((e=>{const t=e.textContent.toLowerCase();e.style.display=t.indexOf(o)>-1?"":"none"}))}));const t=document.querySelectorAll(".fdm-btn-order-action-back"),o=document.querySelectorAll(".fdm-orders-full-details");if(!t||!o)return;t.forEach((e=>{e.addEventListener("click",(()=>{o.forEach((e=>{e.style.display="none"}))}))}));const i=document.querySelector(".fdm-orders-loop");i&&i.addEventListener("click",(e=>{const t=e.target.closest(".fdm-orders-items");if(t){document.querySelectorAll(".fdm-orders-items").forEach((e=>{e.classList.remove("fdm-active")})),t.classList.add("fdm-active");const e=document.querySelectorAll(".fdm-btn-order-action");e.length&&e.forEach((e=>{e.setAttribute("data-manage-order-id",t.getAttribute("id"))})),document.querySelectorAll(".fdm-orders-full-items").forEach((e=>{e.style.display="none"})),window.innerWidth<=768&&(document.querySelector(".fdm-orders-full-details").style.display="block");const o=document.querySelector("#content-"+t.getAttribute("id"));o&&(o.style.display="block")}}))}))}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o(733),o(337),o(801)})();